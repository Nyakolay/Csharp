<!DOCTYPE html>
<html lang="ru">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  	<title>Лаба №6</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="style6.css" rel="stylesheet">
</head>
<body>
<header>
      <div>
        <img  class="logo" src="images/NVSU.png" width="100" height="100" alt="НВГУ">
      </div>
        <nav class="main-menu">
          <ul>
          <li><a href="index.html">На главную</a></li>
          </ul>
        </nav>
</header>
    
<main>
<article class="about-group">
<h1>Лабораторная №6</h1>
<img src="images/zadLab6_1.jpg" height="111">
<pre>
namespace Lab6_1
{
    using System;
    using System.IO;
    using System.Runtime.CompilerServices;
    using System.Windows.Forms;
    using static System.Net.Mime.MediaTypeNames;

    public partial class Form1 : Form
    {
        public struct City
        {
            public string name;
            public string population;
            public string region;
            public string industry;
        }

        public Form1()
        {
            InitializeComponent();
        }

        public void Form1_Load(object sender, EventArgs e)
        {
        }

        private void button1_Click_1(object sender, EventArgs e)//Перезапись
        {
            string path = "D://Files//myLabs//Csharp//file.txt";
            string text = textBox1.Text + "\n\n\n" + textBox2.Text + "\n\n\n" + textBox3.Text + "\n\n\n" + textBox4.Text;

            using (StreamWriter writer = new StreamWriter(path, false))
            {
                writer.WriteLineAsync(text);
                writer.Close();
            }

        }

        private void button2_Click(object sender, EventArgs e)//Чтение из файла
        {
            string path = "D://Files//myLabs//Csharp//file.txt";

            using (StreamReader reader = new StreamReader(path, false))
            {
                label3.Text = reader.ReadToEnd();
                reader.Close();
            }
        }

        private async void button3_Click(object sender, EventArgs e)//Изменение названия
        {
            string path = "D://Files//myLabs//Csharp//file.txt";
            string text = textBox1.Text;
            City city = new City();

            using (StreamReader reader = new StreamReader(path))
            {
                string line;
                line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync(); city.name = text;
                line = await reader.ReadLineAsync(); city.population = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.region = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.industry = line;
                reader.Close();

                text = city.name + "\n\n\n" + city.population + "\n\n\n" + city.region + "\n\n\n" + city.industry;
            }
            using (StreamWriter writer = new StreamWriter(path, false))
            {
                writer.WriteLine(text);
                writer.Close();
            }
        }

        private async void button4_Click(object sender, EventArgs e)//Изменение числености
        {
            string path = "D://Files//myLabs//Csharp//file.txt";
            string text = textBox2.Text;
            City city = new City();

            using (StreamReader reader = new StreamReader(path))
            {
                string line;
                line = await reader.ReadLineAsync(); city.name = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.population = text; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.region = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.industry = line;
                reader.Close();

                text = city.name + "\n\n\n" + city.population + "\n\n\n" + city.region + "\n\n\n" + city.industry;
            }
            using (StreamWriter writer = new StreamWriter(path, false))
            {
                writer.WriteLineAsync(text);
                writer.Close();
            }
        }

        private async void button5_Click(object sender, EventArgs e)//Изменение региона
        {
            string path = "D://Files//myLabs//Csharp//file.txt";
            string text = textBox3.Text;
            City city = new City();

            using (StreamReader reader = new StreamReader(path))
            {
                string line;
                line = await reader.ReadLineAsync(); city.name = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.population = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.region = text; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.industry = line;
                reader.Close();

                text = city.name + "\n\n\n" + city.population + "\n\n\n" + city.region + "\n\n\n" + city.industry;
            }
            using (StreamWriter writer = new StreamWriter(path, false))
            {
                writer.WriteLineAsync(text);
                writer.Close();
            }
        }

        private async void button6_Click(object sender, EventArgs e)//Изменение отрасли
        {
            string path = "D://Files//myLabs//Csharp//file.txt";
            string text = textBox4.Text;
            City city = new City();

            using (StreamReader reader = new StreamReader(path))
            {
                string line;
                line = await reader.ReadLineAsync(); city.name = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.population = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.region = line; line = await reader.ReadLineAsync(); line = await reader.ReadLineAsync();
                line = await reader.ReadLineAsync(); city.industry = text;
                reader.Close();

                text = city.name + "\n\n\n" + city.population + "\n\n\n" + city.region + "\n\n\n" + city.industry;
            }
            using (StreamWriter writer = new StreamWriter(path, false))
            {
                writer.WriteLineAsync(text);
                writer.Close();
            }
        }
    }
}
</pre>
<img src="images/screenLab6_1.jpg" height="350">
<img src="images/screenLab6_11.jpg" height="350">
<img src="images/zadLab6_2.jpg" height="111">
<pre>
namespace Lab6_2
{

    public partial class Form1 : Form
    {
        public Form1() { InitializeComponent(); }

        public void Form1_Load(object sender, EventArgs e) { }
        public class City
        {
            public City() { }
            public static string name;
            public static string population;
            public static string region;
            public static string industry;

            public static void vvod()
            {
                City.name = Interaction.InputBox("Введите название города", "vvod()");
                City.population = Interaction.InputBox("Введите численность населения", "vvod()");
                City.region = Interaction.InputBox("Введите регион", "vvod()");
                City.industry = Interaction.InputBox("Введите ведущую экономическую отрасль", "vvod()");
            }
            public static void save()
            {
                string path = "D://Files//myLabs//Csharp//mydb.txt";
                string text = "Название города: " + City.name + "\n" +
                              "Численность населения: " + City.population + "\n" +
                              "Регион: " + City.region + "\n" +
                              "Ведущая экономическая отрасль: " + City.industry;
                using (StreamWriter writer = new StreamWriter(path, false))
                {
                    writer.WriteLineAsync(text);
                    writer.Close();
                }
            }
            public static void open(System.Windows.Forms.Label label1)
            {
                string path = "D://Files//myLabs//Csharp//mydb.txt";

                using (StreamReader reader = new StreamReader(path, false))
                {
                    label1.Text = reader.ReadToEnd();
                    reader.Close();
                }
            }
        }
        private void button1_Click(object sender, EventArgs e)
        {
            City.vvod();
        }

        private void button2_Click(object sender, EventArgs e)
        {
            City.save();
        }

        private void button3_Click(object sender, EventArgs e)
        {
            City.open(label1);
        }


    }
}
</pre>
<img src="images/screenLab6_2.jpg" height="350">
<img src="images/screenLab6_22.jpg" height="350">
<br><a href="index.html">На главную</a>
</article>
</main>

<footer class="page-footer">
	<div class="nvsu">
		<a href="https://nvsu.ru">Сайт университета</a>
	</div>
	<div class="copyright">
		Николай Ялуков 3002 ФИТиМ
	</div>
</footer>
</body>

</html>
